# Define base path
base = Path("/mnt/data/SafeVault-Frontend")
app_path = base / "app"
components_path = base / "components"
pages_path = base / "pages"
public_path = base / "public"

# Create directory structure
for path in [app_path, components_path, pages_path, public_path]:
    path.mkdir(parents=True, exist_ok=True)

# --- 1. AppKit-ready Next.js base (app/layout.tsx + globals.css) ---

layout_tsx = """
import './globals.css'
import { SafeProvider } from '@safe-global/safe-apps-provider';

export const metadata = {
  title: 'SafeVault 🔐',
  description: 'Your secure Gnosis Safe dashboard.',
};

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>
        <SafeProvider>{children}</SafeProvider>
      </body>
    </html>
  );
}
"""

globals_css = """
body {
  font-family: 'Segoe UI', sans-serif;
  margin: 0;
  padding: 0;
  background: #f4f6f8;
  color: #1a1a1a;
}
"""

index_tsx = """
'use client'
import Link from 'next/link';

export default function Home() {
  return (
    <main style={{ padding: '2rem' }}>
      <h1>🔐 Welcome to SafeVault UI</h1>
      <p>This is your secure Safe app interface.</p>
      <ul>
        <li><Link href="/proposals">View Proposals</Link></li>
        <li><Link href="/owners">Safe Owners</Link></li>
        <li><Link href="/create">Create Transaction</Link></li>
      </ul>
    </main>
  );
}
"""

(app_path / "layout.tsx").write_text(layout_tsx.strip())
(app_path / "globals.css").write_text(globals_css.strip())
(app_path / "page.tsx").write_text(index_tsx.strip())

# Create ZIP
zip_file = Path("/mnt/data/SafeVault-Frontend-AppBase.zip")
with ZipFile(zip_file, "w") as zipf:
    for file in base.rglob("*"):
        if file.is_file():
            zipf.write(file, file.relative_to(base))

zip_file.name
